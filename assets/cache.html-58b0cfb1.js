import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as p,a,b as n,e,d as i}from"./app-531015dd.js";const l={},r=i(`<h2 id="基本介绍" tabindex="-1"><a class="header-anchor" href="#基本介绍" aria-hidden="true">#</a> 基本介绍</h2><p>缓存主要用于存储一些临时数据，例如用户登录 token、基础配置等。<br> 缓存支持以下 2 种方式</p><ul><li>文件</li><li>redis <ul><li>使用 <code>gredis</code> 库</li></ul></li></ul><h2 id="配置方式" tabindex="-1"><a class="header-anchor" href="#配置方式" aria-hidden="true">#</a> 配置方式</h2><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># 缓存</span>
<span class="token key atrule">cache</span><span class="token punctuation">:</span>
  <span class="token key atrule">adapter</span><span class="token punctuation">:</span> <span class="token string">&quot;redis&quot;</span> <span class="token comment"># 缓存驱动方式，支持：memory|redis|file，不填默认memory</span>
  <span class="token key atrule">fileDir</span><span class="token punctuation">:</span> <span class="token string">&quot;./storage/cache&quot;</span> <span class="token comment"># 文件缓存路径，adapter=file时必填</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="使用示例" tabindex="-1"><a class="header-anchor" href="#使用示例" aria-hidden="true">#</a> 使用示例</h2><p>缓存 <code>token</code> 信息</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">import</span><span class="token punctuation">(</span>
	<span class="token string">&quot;ddtd/internal/library/cache&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">if</span> err <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token function">Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> tokenKey<span class="token punctuation">,</span> token<span class="token punctuation">,</span> duration<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>删除 <code>token</code> 信息</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">import</span><span class="token punctuation">(</span>
	<span class="token string">&quot;ddtd/internal/library/cache&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> cache<span class="token punctuation">.</span><span class="token function">Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> tokenKey<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),u={href:"https://goframe.org/pages/viewpage.action?pageId=27755640",target:"_blank",rel:"noopener noreferrer"},d=a("br",null,null,-1),k={href:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gcache",target:"_blank",rel:"noopener noreferrer"};function v(m,g){const s=o("ExternalLinkIcon");return c(),p("div",null,[r,a("p",null,[n("更多使用方法查看 "),a("a",u,[n("https://goframe.org/pages/viewpage.action?pageId=27755640"),e(s)]),d,n(" 或者"),a("a",k,[n("https://pkg.go.dev/github.com/gogf/gf/v2/os/gcache"),e(s)])])])}const f=t(l,[["render",v],["__file","cache.html.vue"]]);export{f as default};
